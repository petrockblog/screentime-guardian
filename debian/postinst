#!/bin/sh
set -e

# Ensure correct permissions on config
if [ -f /etc/screentime-guardian/config.yaml ]; then
    chown root:root /etc/screentime-guardian/config.yaml
    chmod 600 /etc/screentime-guardian/config.yaml
fi

# Display setup message
cat <<'SETUP_MSG'

╔══════════════════════════════════════════════════════════════╗
║        Screentime Guardian Installation Complete            ║
╚══════════════════════════════════════════════════════════════╝

⚠️  IMPORTANT: Configure before starting the service!

1. Edit the configuration file:
   sudo nano /etc/screentime-guardian/config.yaml

2. Set a secure admin_password (currently empty/insecure)

3. Start the service:
   sudo systemctl start screentime-guardian

4. Access the web interface:
   http://localhost:8080 or http://screentime-guardian.local:8080

For more info: https://github.com/florian/screentime-guardian

SETUP_MSG

#DEBHELPER#

exit 0
